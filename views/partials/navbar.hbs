<nav class="bg-black py-4">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center">
      
      <!-- Left side (Logo) -->
      <div class="flex-shrink-0 pe-9">
        <a href="/" class="text-teal-400 font-bold text-2xl">Mob N Access</a>
      </div>

      <!-- Center (Navigation Links) -->
      <div class="hidden md:flex space-x-8 pe-10">
        <a href="/product/productlist" class="text-teal-400 hover:text-white text-lg font-medium">Shop by Category</a>
        <a href="/product/offerSection" class="text-teal-400 hover:text-white text-lg font-medium">Offers</a>
        <a href="#" class="text-teal-400 hover:text-white text-lg font-medium">Contact</a>
      </div>

      <!-- Right side (Icons for Desktop) -->
      <div class="hidden md:flex space-x-4 items-center">
        <!-- Search Icon -->
        <button onclick="toggleSearchModal()" class="text-white"><i class="fa-solid fa-magnifying-glass"></i></button>
         <div id="searchModal" class="fixed inset-0 bg-gray-800 bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg w-11/12 sm:w-1/2 md:w-1/3 p-5 relative">
      <!-- Close Button -->
      <button type="button" onclick="toggleSearchModal()" class="absolute top-2 right-2 text-gray-600 hover:text-gray-900 text-xl">&times;</button>
      
      <h2 class="text-xl font-semibold mb-3">Search</h2>
      
      <!-- Search Input Field -->
      <input id="searchInput" type="text" placeholder="Type to search..." class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4">
      
      <!-- Search Button -->
      <button onclick="performSearch()" class="px-4 py-2 bg-blue-500 text-white rounded-md">
        Search
      </button>
    </div>
</div>
    <div class="flex justify-end space-x-6 pr-4">
  <!-- Wishlist Icon -->
  <div class="relative inline-block">
    <a href="/product/wishlist" class="text-white">
      <i class="fa-solid fa-heart text-lg"></i>
    </a>
    {{#if wishlistLength}}
      <span
        id="wishcount"
        class="absolute bg-white text-center text-black text-xs font-semibold top-2 -right-5 w-4 h-4 rounded-full"
      >
        {{wishlistLength}}
      </span>
    {{/if}}
  </div>

  <!-- Cart Icon -->
  <div class="relative inline-block">
    <a href="/product/cartPage" class="text-white">
      <i class="fa-solid fa-cart-shopping mt-2 ml-2"></i>
    </a>
    {{#if cartLength}}
      <span
        id="cartCount"
        class="absolute bg-white text-center text-black text-xs font-semibold top-2 -right-5 w-4 h-4 rounded-full"
      >
        {{cartLength}}
      </span>
    {{/if}}
  </div>
</div>

          <!-- Space for better visual gap -->
        <div class="border-l border-gray-600 h-6 mx-2"></div>

        <!-- User Logo and Name -->
        {{#if user}}
        <div class="flex items-center text-white">
          {{#if user.image}}
          <a href="/users/userdetails"><img src="{{user.image}}" alt="User Logo" class="w-8 h-8 rounded-full mr-2"></a>
          {{else}}
          <a href="/users/userdetails"><img src="https://tse3.mm.bing.net/th?id=OIP.lkVN1WDlcV2jQCq-9LT7-wHaIJ&pid=Api&P=0&h=180" alt="Default Logo" class="w-8 h-8 rounded-full mr-2"></a>
          {{/if}}
          <span class="font-medium">{{user.name}}</span> <!-- Replace 'Username' with dynamic username if needed -->
        </div>

        <!-- Logout Button with Icon -->
        <a href="/users/logout" class="text-white flex items-center hover:text-red-500">
          <i class="fa-solid fa-sign-out-alt mr-1"></i> <!-- Logout Icon -->
          Logout
        </a>
        {{else}}

        <!-- Sign In Button -->
        <a href="/users/login" class="bg-teal-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-teal-600 transition duration-200">Sign In</a>

        {{/if}}
        
      </div>

      <!-- Mobile Menu Button (Hamburger) -->
      <div class="-mr-2 flex md:hidden">
        <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false">
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="md:hidden hidden" id="mobile-menu">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
      <!-- Mobile Nav Links -->
      <a href="/product/productlist" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Shop by Category</a>
      <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Offers</a>
      <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Contact</a>

      <!-- Space for better visual gap -->
      <div class="border-t border-gray-600 my-2"></div>

      <!-- Mobile Icons (Search, Cart, Profile) -->
      <div class="flex space-x-4 items-center mt-4">
        <!-- Search Icon -->
        <a href="/product/productSearch" class="text-white ms-3"><i class="fa-solid fa-magnifying-glass"></i></a>

        <div class="flex justify-end space-x-6 pr-4">
  <!-- Wishlist Icon -->
  <div class="relative inline-block">
    <a href="/product/wishlist" class="text-white">
      <i class="fa-solid fa-heart text-lg"></i>
    </a>
    {{#if wishlistLength}}
      <span
        id="wishcount"
        class="absolute bg-white text-center text-black text-xs font-semibold top-2 -right-5 w-4 h-4 rounded-full"
      >
        {{wishlistLength}}
      </span>
    {{/if}}
  </div>

  <!-- Cart Icon -->
  <div class="relative inline-block">
    <a href="/product/cartPage" class="text-white">
      <i class="fa-solid fa-cart-shopping mt-2 ml-2"></i>
    </a>
    {{#if cartLength}}
      <span
        id="cartCount"
        class="absolute bg-white text-center text-black text-xs font-semibold top-2 -right-5 w-4 h-4 rounded-full"
      >
        {{cartLength}}
      </span>
    {{/if}}
  </div>
</div>


        <!-- User Logo and Name -->
        {{#if user}}
        <div class="flex items-center text-white">
           {{#if user.image}}
            <a href="/users/userdetails"><img src="{{user.image}}" alt="User Logo" class="w-8 h-8 rounded-full mr-2"></a>
        {{else}}
             <a href="/users/userdetails"><img src="https://tse3.mm.bing.net/th?id=OIP.lkVN1WDlcV2jQCq-9LT7-wHaIJ&pid=Api&P=0&h=180" alt="Default Logo" class="w-8 h-8 rounded-full mr-2"></a>
        {{/if}}
          <span class="font-medium">{{user.name}}</span>
        </div>

        <!-- Logout Button with Icon -->
        <a href="/users/logout" class="text-white flex items-center hover:text-red-500">
          <i class="fa-solid fa-sign-out-alt mr-1"></i> <!-- Logout Icon -->
          Logout
        </a>

        {{else}}

        <!-- Sign In Button -->
        <a href="/users/login" class="bg-teal-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-teal-600 transition duration-200">Sign In</a>

        {{/if}}
      </div>
    </div>
  </div>
</nav>

<script>
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  menuButton.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });

    function toggleSearchModal() {
      const modal = document.getElementById('searchModal');
      if (modal.classList.contains('hidden')) {
        modal.classList.remove('hidden');
        modal.classList.add('flex');
      } else {
        modal.classList.add('hidden');
        modal.classList.remove('flex');
      }
    }

     function performSearch() {
      const query = document.getElementById('searchInput').value;
      location.href=`/product/searchproducts/${query}`
      toggleSearchModal();
    }
</script>
